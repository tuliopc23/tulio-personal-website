/* ======= Apple-like Docs Aesthetic â€” design tokens ======= */
:root {
  /* Layout */
  --sidebar-width: 320px;
  --content-max: 1100px;
  --radius: 14px;
  --radius-sm: 10px;
  --topbar-h: 56px;

  /* Typography */
  --font-sans: -apple-system, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --fs-0: 16px;
  --fs--1: 15px;
  --fs--2: 14px;
  --lh: 1.6;
  --fs-hero: clamp(36px, 2.5vw + 20px, 56px);
  --fs-h2: clamp(24px, 1vw + 16px, 32px);
  --fs-h3: 18px;

  /* Colors (Dark default) */
  --bg: #111214;
  --surface: #1a1b1e;
  --subtle: #0f1012;
  --hairline: #2a2b2e;
  --text: #e7e7ea;
  --muted: #a7aab0;
  /* Approximations of Apple system colors (prefer semantic tokens) */
  --blue: #0a84ff;
  --green: #34c759;
  --indigo: #5e5ce6;
  --teal: #64d2ff;
  --orange: #ff9f0a;
  --pink: #ff375f;

  --link: var(--blue);
  --focus-ring: 0 0 0 3px color-mix(in oklch, var(--blue) 40%, transparent);
}

:root[data-theme="light"] {
  --bg: #ffffff;
  --surface: #f6f7f8;
  --subtle: #f2f3f5;
  --hairline: #e2e4e8;
  --text: #111214;
  --muted: #50545b;
}

/* ======= Base ======= */
* { box-sizing: border-box; }
html { color-scheme: dark light; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: var(--font-sans);
  font-size: var(--fs-0);
  line-height: var(--lh);
  color: var(--text);
  background: var(--bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a { color: var(--link); text-decoration: none; }
a:hover { text-decoration: underline; }
img { max-width: 100%; display: block; }
code, pre { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }

/* ======= Topbar (glass) ======= */
.topbar {
  position: sticky; top: 0; z-index: 50;
  display: grid; grid-template-columns: auto 1fr auto; gap: 12px; align-items: center;
  padding: 10px 16px;
  background: color-mix(in oklch, var(--bg) 70%, transparent);
  backdrop-filter: blur(18px);
  border-bottom: 1px solid var(--hairline);
}
.topbar__brand { font-weight: 700; letter-spacing: -0.01em; }
.topbar__nav { display: none; gap: 16px; }
.topbar__nav a { color: var(--muted); font-size: var(--fs--1); }
.topbar__toggle {
  appearance: none; border: 1px solid var(--hairline); background: var(--surface);
  color: var(--text); border-radius: 8px; padding: 6px 10px; cursor: pointer;
}
.topbar__toggle:focus-visible { outline: none; box-shadow: var(--focus-ring); }
@media (min-width: 1024px){
  .topbar { grid-template-columns: 1fr auto; }
  .topbar__toggle { display: none; }
  .topbar__nav { display: flex; }
}

/* ======= Layout ======= */
.layout { display: grid; grid-template-columns: var(--sidebar-width) 1fr; min-height: calc(100vh - var(--topbar-h)); }
@media (max-width: 1023px){ .layout { grid-template-columns: 1fr; } }
.content { min-width: 0; padding: 24px 24px 64px; }
.content > * { max-width: var(--content-max); margin-inline: auto; }

/* ======= Sidebar ======= */
.sidebar { border-right: 1px solid var(--hairline); background: var(--subtle); position: relative; }
.sidebar__inner { position: sticky; top: var(--topbar-h); display: flex; flex-direction: column; height: calc(100vh - var(--topbar-h)); }
.sidebar__header { padding: 16px; font-weight: 600; color: var(--muted); }
.sidebar__nav { overflow: auto; padding: 0 8px 16px 8px; flex: 1 1 auto; }
.sidebar__group { padding: 6px 8px; }
.sidebar__groupLabel { font-size: var(--fs--2); color: var(--muted); margin: 12px 8px 6px; }
.sidebar__link { display: flex; align-items: center; gap: 10px; font-size: var(--fs--1); color: var(--text); border-radius: 8px; padding: 8px 10px; }
.sidebar__link:hover { background: rgba(255,255,255,.04); }
.icon-tile {
  inline-size: 18px; block-size: 18px; border-radius: 4px;
  background: linear-gradient(180deg,#2b2c31,#202126);
  border: 1px solid #3a3b40;
}
.sidebar__filter { position: sticky; bottom: 0; display: grid; grid-template-columns: 1fr auto; gap: 8px; padding: 12px; background: var(--subtle); border-top: 1px solid var(--hairline); }
.sidebar__filter input {
  width: 100%; border-radius: 10px; padding: 10px 12px;
  border: 1px solid var(--hairline); background: var(--surface); color: var(--text);
}
.sidebar__filter input::placeholder { color: var(--muted); }
kbd.slash { display: inline-flex; align-items: center; justify-content: center; min-width: 36px; padding: 0 8px; border-radius: 8px; border: 1px solid var(--hairline); background: var(--surface); font-size: var(--fs--2); color: var(--muted); }
@media (max-width: 1023px){
  .sidebar { position: fixed; inset: var(--topbar-h) 0 0 auto; width: min(86vw, 360px); transform: translateX(-100%); transition: transform .2s ease; z-index: 60; box-shadow: 0 8px 40px rgba(0,0,0,.55); }
  .sidebar.is-open { transform: translateX(0); }
  .backdrop { position: fixed; inset: var(--topbar-h) 0 0 0; background: rgba(0,0,0,.4); display: none; z-index: 55; }
  .backdrop.is-open { display: block; }
}

/* ======= Hero ======= */
.hero { padding: 28px 0 8px; }
.hero__title { font-size: var(--fs-hero); font-weight: 700; letter-spacing: -0.01em; line-height: 1.1; margin: 0 0 8px; }
.hero__subtitle { color: var(--muted); margin: 0; font-size: 17px; }
.badge {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 6px 12px; border-radius: 9999px;
  background: color-mix(in oklch, var(--surface) 70%, transparent);
  border: 1px solid var(--hairline); backdrop-filter: blur(14px);
  font-weight: 600; font-size: var(--fs--2); color: var(--text);
}
.badge__dot { width: 8px; height: 8px; border-radius: 999px; background: var(--blue); }

/* ======= Cards ======= */
.card {
  display: block; border-radius: var(--radius); border: 1px solid var(--hairline);
  background: var(--surface); padding: 14px;
  transition: transform .15s ease, border-color .15s ease, box-shadow .15s ease;
}
.card:hover { transform: translateY(-2px); border-color: #3a3b3e; text-decoration: none; }
.card-title { font-size: var(--fs-h3); font-weight: 600; margin: 6px 0 4px; }
.card-body { color: var(--muted); font-size: var(--fs--1); margin: 0 0 8px; }

.symbol {
  width: 48px; height: 48px; display: grid; place-items: center; border-radius: 12px;
  border: 1px solid var(--hairline);
  background: linear-gradient(180deg, rgba(255,255,255,.12), transparent);
}
.symbol--blue { background-color: color-mix(in oklch, var(--blue) 20%, transparent); }
.symbol--indigo { background-color: color-mix(in oklch, var(--indigo) 20%, transparent); }
.symbol--teal { background-color: color-mix(in oklch, var(--teal) 20%, transparent); }
.symbol svg { color: var(--text); }

.cardGrid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 20px; margin-bottom: 28px; }

/* ======= Prose ======= */
.prose { padding: 8px 0; }
.prose h1, .prose h2, .prose h3 { letter-spacing: -0.01em; }
.prose h2 { font-size: var(--fs-h2); margin: 28px 0 10px; }
.prose h3 { font-size: var(--fs-h3); margin: 20px 0 8px; }
.prose pre { background: var(--subtle); border: 1px solid var(--hairline); border-radius: 10px; padding: 14px; overflow: auto; }
.prose code { font-size: 0.95em; }
.prose ul { padding-left: 1.25rem; }

/* ======= Utilities ======= */
.container { max-width: var(--content-max); margin-inline: auto; padding-inline: 24px; }
.btn { border-radius: 11px; border: 1px solid var(--hairline); background: var(--blue); color: white; padding: 10px 14px; font-weight: 600; }
.btn--ghost { background: var(--surface); color: var(--text); }
.btn:focus-visible, a:focus-visible, input:focus-visible { outline: none; box-shadow: var(--focus-ring); border-color: var(--blue); }

.footer { color: var(--muted); margin-top: 40px; border-top: 1px solid var(--hairline); padding-top: 16px; }
