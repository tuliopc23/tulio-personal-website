<!-- 
  Personal Icon Component - Vanilla HTML/CSS
  Following Apple HIG shadow and elevation principles
  
  Usage:
  - Copy this HTML structure where needed
  - Link to icons.css for styling
  - Add data-size attribute for different contexts: "profile", "nav", or "footer"
  - Add onclick handler for theme toggle functionality
-->

<button
  class="personal-icon"
  data-size="nav"
  aria-label="Toggle theme"
  type="button"
  onclick="toggleTheme()"
>
  <!-- Light mode icon - visible in light theme -->
  <img
    src="/icons/IconLightMode.svg"
    alt=""
    class="personal-icon-light"
    aria-hidden="true"
  />

  <!-- Dark mode icon - visible in dark theme -->
  <img
    src="/icons/IconDarkMode.svg"
    alt=""
    class="personal-icon-dark"
    aria-hidden="true"
  />
</button>

<style>
  /* Size variants using data attribute */
  .personal-icon[data-size="profile"] {
    width: 40px;
    height: 40px;
  }

  .personal-icon[data-size="nav"] {
    width: 32px;
    height: 32px;
  }

  .personal-icon[data-size="footer"] {
    width: 24px;
    height: 24px;
  }
</style>

<script>
  // Example theme toggle function
  function toggleTheme() {
    const html = document.documentElement;
    const isDark = html.classList.contains('dark');
    
    if (isDark) {
      html.classList.remove('dark');
      localStorage.setItem('theme', 'light');
    } else {
      html.classList.add('dark');
      localStorage.setItem('theme', 'dark');
    }
  }

  // Initialize theme on page load
  function initTheme() {
    const savedTheme = localStorage.getItem('theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    
    if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
      document.documentElement.classList.add('dark');
    }
  }

  // Run on page load
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initTheme);
  } else {
    initTheme();
  }
</script>
