---
import BrandIcon from "./BrandIcon.astro";
import { getBrandIcon } from "./brand-icons";
import SFIcon from "./SFIcon.astro";

const { tint = "blue", label = "", icon = null } = Astro.props;

const symbolMap: Record<string, string> = {
  blog: "notebook",
  projects: "constellation",
  home: "home",
  link: "link",
  portfolio: "briefcase",
  sparkle: "sparkle-trio",
  writing: "sparkle-trio",
  globe: "globe",
  code: "code",
};

const brandEntry = icon ? getBrandIcon(icon) : null;
const sfIcon = !brandEntry && icon ? symbolMap[icon] : null;
const symbolStyle = brandEntry
  ? ({
      ...(brandEntry.ink ? { "--symbol-ink": brandEntry.ink } : {}),
      ...(brandEntry.accent ? { "--symbol-accent": brandEntry.accent } : {}),
    } as Record<string, string>)
  : undefined;
---

<span class={"symbol symbol--" + tint} aria-hidden="true" style={symbolStyle}>
  {
    brandEntry ? (
      <BrandIcon name={icon} size={24} />
    ) : sfIcon ? (
      <SFIcon name={sfIcon} size={24} stroke={1.8} />
    ) : icon ? (
      <div style="width:40px;height:40px;display:flex;align-items:center;justify-content:center;">
        <img
          src={`/icons/${icon}.svg`}
          alt={label}
          width="32"
          height="32"
          style="object-fit:contain;"
        />
      </div>
    ) : (
      <SFIcon name="sparkle" size={24} stroke={1.8} />
    )
  }
</span>
